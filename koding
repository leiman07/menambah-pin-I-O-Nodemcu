#include "Arduino.h"
#include "PCF8574.h"

// Set i2c HEX address
PCF8574 pcf8574(0x20);
unsigned long timeElapsed;

void setup(){
  Serial.begin(9600);
  pinMode(D4, OUTPUT);
  pcf8574.pinMode(P0, INPUT);
  pcf8574.pinMode(P1, OUTPUT);

  pcf8574.begin();
}

void loop(){
  uint8_t val = pcf8574.digitalRead(P0);            // Read the value of pin P0  
  Serial.println(val);      
  if (val == HIGH) { pcf8574.digitalWrite(P1, HIGH); // If Button is Pressed
                    digitalWrite(D4, HIGH);}
  else              {pcf8574.digitalWrite(P1, LOW);  // When Button is Released
                    digitalWrite(D4, LOW);}
  delay(50);
}
